<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>复制对象</title>
  <link rel="stylesheet" href="../common/highlight/styles/an-old-hope.css">
  <script src="../common/highlight/highlight.pack.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
  <style>
    .codePanel {
      display: flex;
    }

    .codePanel .JavaScript {
      padding: 0 20px;
    }
  </style>
</head>

<body>
  <h1><a href="https://github.com/Swarz">我的GitHub，欢迎给我+++星星</a></h1>
  <h4 style="color:red">打开控制台看输出</h4>
  <pre class="codePanel">
    <code class="JavaScript">
  var obj = {
      num: 5,
      name: 'tom'
  }
  console.log('old:', obj);
  var t1 = obj
  t1.num = 6
  console.log('原对象发生改变', obj, t1);
  
  var arr = [1, 'c', 4, 'f']
  console.log('\nold:', arr);
  var t1 = arr
  t1[1] = 'd'
  console.log('原数组发生改变', arr, t1);
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~');
  
  console.log('1. Object.assign()')
  //Object.assign()
  var obj = {
      num: 5,
      name: 'tom'
  }
  console.log('old:', obj);
  var t1 = Object.assign({}, obj)
  t1.num = 6
  console.log('原对象没改变', obj, t1);
  
  var arr = [1, 'c', 4, 'f']
  console.log('\nold:', arr);
  var t1 = Object.assign({}, arr)
  t1[2] = 6
  console.log('原数组没改变，arr转换成对象', arr, t1);
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~');
  
  console.log('2. 扩展运算符')
  //扩展运算符
  var obj = {
      num: 5,
      name: 'tom'
  }
  console.log('old:', obj);
  var t1 = {
      ...obj
  }
  t1.num = 6
  console.log('原对象没改变', obj, t1);
  
  var arr = [1, 'c', 4, 'f']
  console.log('\nold:', arr);
  var t1 = [...arr]
  t1[2] = 6
  console.log('原数组没改变', arr, t1);
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~');
  
  console.log('3. JSON')
  //JSON
  var obj = {
      num: 5,
      name: 'tom'
  }
  console.log('old:', obj);
  var t1 = JSON.parse(JSON.stringify(obj))
  t1.num = 6
  console.log('原对象没改变', obj, t1);
  
  var arr = [1, 'c', 4, 'f']
  console.log('\nold:', arr);
  var t1 = JSON.parse(JSON.stringify(arr))
  t1[2] = 6
  console.log('原数组没改变', arr, t1);
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~');

  console.log('4. array.concat()')
  //rray.concat()
  var arr = [1, 'c', 4, 'f']
  console.log('\nold:', arr);
  var t1 = arr.concat([])
  t1[2] = 6
  console.log('原数组没改变', arr, t1);
  var obj = {
      num: 5,
     name: 'tom'
  }
    </code>
    </pre>
</body>
<script>
  var obj = {
    num: 5,
    name: 'tom'
  }
  console.log('old:', obj);
  var t1 = obj
  t1.num = 6
  console.log('原对象发生改变', obj, t1);

  var arr = [1, 'c', 4, 'f']
  console.log('\nold:', arr);
  var t1 = arr
  t1[1] = 'd'
  console.log('原数组发生改变', arr, t1);
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~');

  console.log('1. Object.assign()')
  //Object.assign()
  var obj = {
    num: 5,
    name: 'tom'
  }
  console.log('old:', obj);
  var t1 = Object.assign({}, obj)
  t1.num = 6
  console.log('原对象没改变', obj, t1);

  var arr = [1, 'c', 4, 'f']
  console.log('\nold:', arr);
  var t1 = Object.assign({}, arr)
  t1[2] = 6
  console.log('原数组没改变，arr转换成对象', arr, t1);
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~');

  console.log('2. 扩展运算符')
  //扩展运算符
  var obj = {
    num: 5,
    name: 'tom'
  }
  console.log('old:', obj);
  var t1 = {
    ...obj
  }
  t1.num = 6
  console.log('原对象没改变', obj, t1);

  var arr = [1, 'c', 4, 'f']
  console.log('\nold:', arr);
  var t1 = [...arr]
  t1[2] = 6
  console.log('原数组没改变', arr, t1);
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~');

  console.log('3. JSON')
  //JSON
  var obj = {
    num: 5,
    name: 'tom'
  }
  console.log('old:', obj);
  var t1 = JSON.parse(JSON.stringify(obj))
  t1.num = 6
  console.log('原对象没改变', obj, t1);

  var arr = [1, 'c', 4, 'f']
  console.log('\nold:', arr);
  var t1 = JSON.parse(JSON.stringify(arr))
  t1[2] = 6
  console.log('原数组没改变', arr, t1);
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~');

  console.log('4. array.concat()')
  //rray.concat()
  var arr = [1, 'c', 4, 'f']
  console.log('\nold:', arr);
  var t1 = arr.concat([])
  t1[2] = 6
  console.log('原数组没改变', arr, t1);
  var obj = {
    num: 5,
    name: 'tom'
  }
</script>

</html>